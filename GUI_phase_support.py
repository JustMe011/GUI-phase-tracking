#! /usr/bin/env python
#  -*- coding: utf-8 -*-
#
# Support module generated by PAGE version 4.17
# In conjunction with Tcl version 8.6
#    Oct 02, 2018 12:11:05 PM CEST  platform: Linux
#    Oct 02, 2018 02:31:35 PM CEST  platform: Linux
#    Oct 02, 2018 03:31:38 PM CEST  platform: Linux
#    Oct 02, 2018 03:33:26 PM CEST  platform: Linux
#    Oct 02, 2018 04:36:15 PM CEST  platform: Linux
#    Oct 03, 2018 10:46:20 AM CEST  platform: Linux
#    Oct 03, 2018 02:49:40 PM CEST  platform: Linux
#    Oct 03, 2018 02:53:50 PM CEST  platform: Linux

import sys
from tkinter import filedialog
import matplotlib
matplotlib.use('TkAgg')
from matplotlib.backends.backend_tkagg import FigureCanvasTkAgg as FCTkAgg
from matplotlib.backends.backend_tkagg import NavigationToolbar2Tk
from matplotlib.figure import Figure
import phase_sim
from numpy import *
import codecs

try:
    from Tkinter import *
except ImportError:
    from tkinter import *

try:
    import ttk
    py3 = False
except ImportError:
    import tkinter.ttk as ttk
    py3 = True

def set_Tk_var():
    global contEntry1,filename
    contEntry1 = StringVar()
    filename=StringVar()
    sys.stdout.flush()
    global cont_delim
    cont_delim = StringVar()
    global cont_chunck
    cont_chunck = StringVar()
    
    


def LoadFile_pressed(e):
    del_decoded=codecs.decode(cont_delim.get(), 'unicode_escape')
    t,c1,c2,c3,c4=phase_sim.loader(filename.get(),int(cont_chunck.get()),del_decoded)
    ax1.clear()
    ax1.plot(t,c1)
    canvas1.draw()
    
def Search_pressed(e):
    global filename
    name=filedialog.askopenfilename(initialdir=".")
    filename.set(name)
    w.Text1.insert(END,filename.get())
    sys.stdout.flush()
    

def init(top, gui, *args, **kwargs):
    global w, top_level, root
    w = gui
    top_level = top
    root = top
    plotingui()
  
def plotingui():
    global w,ax1,canvas1
    f1=w.Frame1
    f= Figure(figsize=(6, 4), dpi=100)
    ax1= f.add_subplot(111)
    canvas1 = FCTkAgg(f, f1)
    toolbar1 = NavigationToolbar2Tk(canvas1, f1 )
    toolbar1.pack()
    canvas1.get_tk_widget().pack()
    
def LoadSim_pressed(e):
    print("pressed load")
 

    
def destroy_window():
    # Function which closes the window.
    global top_level
    top_level.destroy()
    top_level = None
    


if __name__ == '__main__':
    import GUI_phase
    GUI_phase.vp_start_gui()







































